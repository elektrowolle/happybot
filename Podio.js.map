{"version":3,"sources":["Podio.es6"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;AAEb,IAAI,KAAK,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC;;AAEpC,IAAI,KAAK,GAAG,SAAS,CAAC;;AAEtB,MAAM,CAAC,OAAO;AACV,aADmB,aAAa,GAClB;8BADK,aAAa;;AAE5B,YAAG,KAAK,KAAK,SAAS,EAAE;AACpB,iBAAK,GAAG,IAAI,KAAK,CAAC;AACd,wBAAQ,EAAE,UAAU;AACpB,wBAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,aAAa;AACnC,4BAAY,EAAE,OAAO,CAAC,GAAG,CAAC,WAAW;aACxC,CAAC,CAAC;SACN;AACD,YAAI,CAAC,KAAK,GAAG,KAAK,CAAC;KACtB;;iBAVkB,aAAa;;+BAczB,OAAO,EAAE,QAAQ,EAAE;;;AAGtB,gBAAI,KAAK,GAAG,IAAI,CAAC;AACjB,iBAAK,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC,YAAY;AACrC,uBAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;AAClC,uBAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;AACtC,uBAAO,OAAO,EAAE,CAAC;aACpB,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAChB,KAAK,CAAC,UAAU,GAAG,EAAE;AAClB,uBAAO,CAAC,GAAG,CAAC,2CAA2C,CAAE,CAAC;AAC1D,uBAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AACjB,uBAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;;AAEjC,qBAAK,CAAC,2BAA2B,CACjC,OAAO,CAAC,GAAG,CAAC,aAAa,EACzB,OAAO,CAAC,GAAG,CAAC,aAAa,EACzB,YAAW;AACP,yBAAK,CAAC,MAAM,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;iBACnC,CAAC,CAAC;aACN,CAAC,CAAC;SACN;;;WAnCkB,aAAa;GAoCnC;;;;;AAAA","file":"Podio.js","sourcesContent":["\"use strict\";\n\nvar Podio = require('podio-js').api;\n\nvar podio = undefined;\n\nmodule.exports = class PodioInstance{\n    constructor() {\n        if(podio === undefined) {\n            podio = new Podio({\n                authType: 'password',\n                clientId: process.env.podioClientId,\n                clientSecret: process.env.podioSecret\n            });\n        }\n        this.podio = podio;\n    }\n\n\n\n    action(request, response) {\n        //var authCode = request.query.code;\n        //var errorCode = request.query.error;\n        var $this = this;\n        podio.isAuthenticated().then(function () {\n            console.log('podio is connected');\n            console.log('request was successful');\n            return request();\n        }).then(response)\n        .catch(function (err) {\n            console.log('No podio connection. Try to authenticate.' );\n            console.log(err);\n            console.log(JSON.stringify(err));\n\n            podio.authenticateWithCredentials(\n            process.env.podioUsername,\n            process.env.podioPassword,\n            function() {\n                $this.action(request, response);\n            });\n        });\n    }\n}\n\n//var p = new PodioInstance();\n//p.action(()=>{return p.podio.request('GET', '/apps/')}, (response)=>{console.log(response)});\n// Your request handler (for example in ExpressJS)\n"]}