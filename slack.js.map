{"version":3,"sources":["slack.es6"],"names":[],"mappings":";;AAAA,IAAI,KAAK,GAAG,OAAO,CAAC,cAAc,CAAC,CAAC;AACpC,IAAI,KAAK,GAAG,OAAO,CAAC,kBAAkB,CAAC,CAAC;;AAExC,MAAM,CAAC,OAAO,GAAI,YAAY;AAC5B,MAAI,UAAU,GAAG,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC;AACxC,MAAI,aAAa,GAAG,IAAI,CAAC;AACzB,MAAI,QAAQ,GAAG,IAAI,CAAC;;AAEpB,MAAI,KAAK,GAAG,IAAI,KAAK,CAAC,UAAU,EAAE,aAAa,EAAE,QAAQ,CAAC,CAAC;;AAE3D,MAAI,UAAU,GAAG,EAAE,CAAC;;AAEpB,OAAK,CAAC,EAAE,CAAC,MAAM,EAAE,YAAY;AAC3B,WAAO,CAAC,GAAG,CAAC,eAAe,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,GAAG,MAAM,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;GAC3E,CAAC,CAAC;;AAEH,OAAK,CAAC,EAAE,CAAC,SAAS,EAAE,UAAU,OAAO,EAAE;AACrC,WAAO,CAAC,GAAG,CAAC,UAAU,GAAG,OAAO,CAAC,CAAC;AAClC,QAAI,OAAO,GAAG,KAAK,CAAC,uBAAuB,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;AAC7D,QAAI,IAAI,GAAG,KAAK,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;;AAE3C,WAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;AAClC,WAAO,CAAC,GAAG,CAAC,WAAW,GAAG,OAAO,CAAC,IAAI,CAAC;;;;AAAC,AAIxC,WAAO,CAAC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;;AAEhC,QAAI,IAAI,GAAG,UAAU,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;AACvC,QAAG,IAAI,IAAI,SAAS,EAAC;AACnB,UAAI,CAAC,EAAC,SAAS,EAAE,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,MAAM,EAAC,IAAI,EAAC,CAAC,CAAC;KAC7D;;AAED,WAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;;AAEhC,QAAI,KAAK,CAAC;AACV,SAAK,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,IAAI,EAAE,IAAI,CAAC,GAAG,EAAE,EAAE,CAAC,CAAC,CAAC;AAC1D,WAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;GACpC,CAAC,CAAC;;AAEH,OAAK,CAAC,EAAE,CAAC,OAAO,EAAE,UAAU,GAAG,EAAE;AAC/B,WAAO,CAAC,GAAG,CAAC,QAAQ,GAAG,GAAG,CAAC,CAAC;GAC7B,CAAC,CAAC;;AAEH,OAAK,CAAC,KAAK,EAAE,CAAC;CACf,AAAC,CAAC","file":"slack.js","sourcesContent":["var Slack = require('slack-client');\nvar happy = require('./happyKnowledge');\n\nmodule.exports = (function () {\n  var slackToken = process.env.SlackToken;\n  var autoReconnect = true;\n  var autoMark = true;\n\n  var slack = new Slack(slackToken, autoReconnect, autoMark);\n\n  var slackHooks = {};\n\n  slack.on('open', function () {\n    console.log(\"Connected to \" + slack.team.name + \" as \" + slack.self.name);\n  });\n\n  slack.on('message', function (message) {\n    console.log('Message:' + message);\n    var channel = slack.getChannelGroupOrDMByID(message.channel);\n    var user = slack.getUserByID(message.user);\n\n    console.log(\"user: \" + user.name);\n    console.log(\"channel: \" + channel.name);\n\n    //var message;\n    //message = new slack.Message();\n    channel.send(\"Hi \" + user.name);\n\n    var hook = slackHooks[message.message];\n    if(hook != undefined){\n      hook({'message': message, 'channel': channel, 'user':user});\n    }\n\n    console.log(\"add happy object\");\n\n    var happy;\n    happy = new happy(user.name, message.user, Date.now(), 5);\n    console.log(JSON.stringify(happy));\n  });\n\n  slack.on('error', function (err) {\n    console.log('Error:' + err);\n  });\n\n  slack.login();\n});\n"]}